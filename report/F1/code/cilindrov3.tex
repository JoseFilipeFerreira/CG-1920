\begin{lstlisting}
for(i32 slice = 0; slice < _slices; slice++) {
    PointSpherical central = PointSpherical(0, 0, 0);
    PointSpherical base    = PointSpherical(_radius, M_PI/2, ang_slice * slice);
    PointSpherical n_base  = PointSpherical(_radius, M_PI/2, ang_slice *(slice+1));
    //top & bottom
    coords.push_back(n_base);
    coords.push_back(base);
    coords.push_back(central);
    coords.push_back(central + top);
    coords.push_back(base + top);
    coords.push_back(n_base + top);

    //side
    for(i32 stack = 0; stack < _stacks; stack++) {
        Point pivot   =   base + step * stack;
        Point n_pivot = n_base + step * stack;

        coords.push_back(pivot);
        coords.push_back(n_pivot + step);
        coords.push_back(pivot + step);
        coords.push_back(pivot);
        coords.push_back(n_pivot);
        coords.push_back(n_pivot + step);
    }
}
\end{lstlisting}
